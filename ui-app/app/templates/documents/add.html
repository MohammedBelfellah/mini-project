{% extends "base.html" %} {% block title %}Ajouter un Document{% endblock %} {%
block content %}
<div class="d-flex justify-content-between align-items-center mb-4">
  <h1><i class="bi bi-plus-circle"></i> Ajouter un Document</h1>
  <a
    href="{{ url_for('buildings.view_building', id=building_id) }}"
    class="btn btn-secondary"
  >
    <i class="bi bi-arrow-left"></i> Retour
  </a>
</div>

<div class="alert alert-info">
  <i class="bi bi-building"></i> Bâtiment: <strong>{{ building_name }}</strong>
</div>

<div class="card">
  <div class="card-body">
    <form
      method="POST"
      action="{{ url_for('documents.add_document', building_id=building_id) }}"
    >
      <div class="row">
        <div class="col-md-6 mb-3">
          <label for="titre_doc" class="form-label">
            Titre du Document <span class="text-danger">*</span>
          </label>
          <input
            type="text"
            class="form-control"
            id="titre_doc"
            name="titre_doc"
            placeholder="Ex: Photo façade principale"
            required
          />
          <div class="form-text">Nom descriptif du document</div>
        </div>

        <div class="col-md-6 mb-3">
          <label for="type_doc" class="form-label">
            Type de Document <span class="text-danger">*</span>
          </label>
          <select class="form-select" id="type_doc" name="type_doc" required>
            <option value="">-- Sélectionner --</option>
            {% for type in types %}
            <option value="{{ type }}">{{ type }}</option>
            {% endfor %}
          </select>
        </div>
      </div>

      <div class="mb-3">
        <label for="url_fichier" class="form-label">
          URL du Fichier <span class="text-danger">*</span>
        </label>
        <input
          type="url"
          class="form-control"
          id="url_fichier"
          name="url_fichier"
          placeholder="https://exemple.com/document.pdf"
          required
        />
        <div class="form-text">
          Lien vers le fichier (Google Drive, Dropbox, serveur, etc.)
        </div>
      </div>

      <div class="d-grid gap-2 d-md-flex justify-content-md-end">
        <a
          href="{{ url_for('buildings.view_building', id=building_id) }}"
          class="btn btn-secondary"
        >
          <i class="bi bi-x-circle"></i> Annuler
        </a>
        <button type="submit" class="btn btn-primary">
          <i class="bi bi-check-circle"></i> Enregistrer
        </button>
      </div>
    </form>
  </div>
</div>
{% endblock %}
